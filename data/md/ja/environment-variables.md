# GitBaseの環境変数の設定

GitBaseは、安全なGitHub統合、認証、管理者アクセスのためにいくつかの重要な環境変数に依存しています。このガイドでは各変数の目的を説明し、適切な設定のためのステップバイステップの指示を提供します。

環境変数はGitBaseプロジェクトのセットアップとセキュリティにおいて重要な役割を果たします。このガイドでは各変数について説明し、その目的と正しく設定する方法を説明します。

## GITHUB_TOKEN

**目的**: このトークンにより、GitBaseはGitHubリポジトリと対話し、コンテンツを読み書きできるようになります。

**取得方法**:
1. GitHubにログインします。
2. 右上隅のプロフィール画像をクリックし、「Settings」を選択します。
3. 左側のサイドバーで「Developer settings」をクリックします。
4. 「Personal access tokens」を選択し、「Tokens (classic)」を選択します。
5. 「Generate new token」をクリックし、「Generate new token (classic)」を選択します。
6. トークンに説明的な名前を付け、次のスコープを選択します：
   - repo（プライベートリポジトリの完全な制御）
7. ページ下部で「Generate token」をクリックします。
8. 生成されたトークンをすぐにコピーしてください - 再度表示することはできません！

**要件**: 正しい権限を持つ有効なGitHubパーソナルアクセストークンである必要があります。

## GITHUB_OWNER

**目的**: これは、コンテンツが保存されるGitHubリポジトリを所有するユーザー名または組織名です。

**取得方法**: これは単純にあなたのGitHubユーザー名またはGitHub組織の名前です。

**要件**: 使用しているリポジトリの所有者と完全に一致している必要があります。

## GITHUB_REPO

**目的**: これは、コンテンツが保存されるGitHubリポジトリの名前です。

**取得方法**: これはGitBaseコンテンツ用に作成したリポジトリの名前です。

**要件**: リポジトリ名と完全に一致している必要があります。所有者は含みません（例：「my-gitbase-content」、「username/my-gitbase-content」ではありません）。

## JWT_SECRET

**目的**: このシークレットは、GitBaseアプリケーションでの認証のためにJSON Webトークン（JWT）に署名するために使用されます。

**取得方法**: これにはランダムで安全な文字列を生成する必要があります。パスワードジェネレーターを使用するか、ターミナルで次のコマンドを実行できます：
```
node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
```

**要件**: 長くランダムな文字列である必要があります。セキュリティのため、少なくとも32文字が推奨されます。

## DOMAIN

**目的**: これはGitBaseインスタンスが実行されているドメインを指定します。不正アクセスを防ぐためにセキュリティ目的で使用されます。

**取得方法**: GitBaseインスタンスをホストしているドメインである必要があります。ローカル開発では「localhost」を使用できます。

**要件**: 有効なドメイン名である必要があります。本番環境では、実際のドメイン（例：「mygitbase.com」）になります。ローカル開発では「localhost」を使用します。

## ACCESS_PASSWORD

**目的**: このパスワードは、GitBaseインスタンスの管理インターフェースにアクセスするために使用されます。

**取得方法**: これには強力で一意のパスワードを作成する必要があります。

**要件**: 強力なパスワードである必要があります。大文字と小文字、数字、特殊文字を組み合わせることをお勧めします。少なくとも12文字を目指してください。

## 環境変数の設定

1. GitBaseプロジェクトのルートに、`.env.local`という名前のファイルを作成します。
2. このファイルに次の形式で変数を追加します：

```
GITHUB_TOKEN=your_github_token_here
GITHUB_OWNER=your_github_username_or_org
GITHUB_REPO=your_repo_name
JWT_SECRET=your_generated_jwt_secret
DOMAIN=your_domain_or_localhost
ACCESS_PASSWORD=your_strong_password
```

3. ファイルを保存します。

`.env.local`ファイルをバージョン管理にコミットしないでください。これはGitBaseの`.gitignore`ファイルに含まれていますが、機密情報を意図せず公開しないように常に確認してください。

本番環境デプロイ（Vercelなど）の場合、ホスティングプラットフォームの設定でこれらの環境変数を追加する必要があります。

これらの環境変数を適切に設定することで、GitBaseインスタンスがGitHubと安全に対話し、ユーザーを認証し、管理インターフェースを保護することができます。